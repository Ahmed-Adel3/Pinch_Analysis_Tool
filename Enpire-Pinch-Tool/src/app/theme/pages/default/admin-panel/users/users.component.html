<!-- <p-table #dt [columns]="cols" [value]="users" [paginator]="true" [rows]="10" [responsive]="true">
  <ng-template pTemplate="caption">
      <div style="text-align: right">        
          <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
          <input type="text" pInputText size="50" placeholder="Global Filter" (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto">
      </div>
  </ng-template>
  <ng-template pTemplate="header" let-columns>
      <tr>
          <th *ngFor="let col of columns" [pSortableColumn]="col.field">
              {{col.header}}
              <p-sortIcon [field]="col.field"></p-sortIcon>
          </th>
          <th>
            Account Status
          </th>
      </tr>
       <tr>
          <th *ngFor="let col of columns" [ngSwitch]="col.field">
              <input pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)" placeholder="Filter">
          </th>
          <th></th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr [pSelectableRow]="rowData">
          <td *ngFor="let col of columns">
              {{rowData[col.field]}}
          </td>
          <td>
            <button *ngIf="rowData['isActive'] === false " type="button" class="btn btn-danger" (click)="changeStatus('activate',rowData['userId'])">Blocked</button>
            <button *ngIf="rowData['isActive'] === true " type="button" class="btn btn-success" (click)="changeStatus('deactivate',rowData['userId'])" [disabled]="rowData['role'] === 'Admin'">Active</button>
            {{rowData['role']}}
          </td>
      </tr>
  </ng-template>
</p-table> -->

<div class="example-container mat-elevation-z8">
        <div class="example-header">
                <mat-form-field>
                  <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
                </mat-form-field>
        </div>
        <mat-table #table [dataSource]="dataSource" matSort>
      
          <!-- Position Column -->
          <ng-container matColumnDef="fullName">
            <mat-header-cell *matHeaderCellDef  mat-sort-header> Full Name </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.fullName}} </mat-cell>
          </ng-container>
      
          <!-- Name Column -->
          <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef  mat-sort-header> Email </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.email}} </mat-cell>
          </ng-container>
      
          <!-- Weight Column -->
          <ng-container matColumnDef="numberOfCases">
            <mat-header-cell *matHeaderCellDef  mat-sort-header> Cases </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.numberOfCases}} </mat-cell>
          </ng-container>
      
          <!-- Symbol Column -->
          <ng-container matColumnDef="registerDate">
            <mat-header-cell *matHeaderCellDef  mat-sort-header> Register Date </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.registerDate}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="position">
                <mat-header-cell *matHeaderCellDef  mat-sort-header> Position </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.position}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="country">
                <mat-header-cell *matHeaderCellDef  mat-sort-header> Country </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.country}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef > Actions </mat-header-cell>
                <mat-cell *matCellDef="let element"> 
                        <button *ngIf="element.isActive === false " type="button" class="btn btn-danger" (click)="changeStatus('activate',element.userId)">Blocked</button>
                        <button *ngIf="element.isActive === true " type="button" class="btn btn-success" (click)="changeStatus('deactivate',element.userId)" [disabled]="element.role === 'Admin'">Active</button>
                        {{element.role}} 
                </mat-cell>
          </ng-container>
      
          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
      
        <mat-paginator #paginator
                       [pageSize]="10"
                       [pageSizeOptions]="[5, 10, 20]"
                       [showFirstLastButtons]="true">
        </mat-paginator>
      </div>